(function(e){function t(t){for(var a,c,i=t[0],s=t[1],u=t[2],l=0,f=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},c={app:0},r={app:0},o=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2f14566c":"badf50e3","chunk-5c8aeb2f":"8e6f269f","chunk-7427c3c6":"f00c226c","chunk-fa597806":"e38e2b94","chunk-1568e651":"9fdaf257","chunk-726b8b7e":"f2c97b4f"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-2f14566c":1,"chunk-5c8aeb2f":1,"chunk-7427c3c6":1,"chunk-fa597806":1,"chunk-1568e651":1,"chunk-726b8b7e":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-2f14566c":"703870ad","chunk-5c8aeb2f":"8214e5f2","chunk-7427c3c6":"1967c92b","chunk-fa597806":"1f5885b0","chunk-1568e651":"95f9a196","chunk-726b8b7e":"c1fc4b6c"}[e]+".css",r=s.p+a,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===r))return t()}var f=document.getElementsByTagName("style");for(i=0;i<f.length;i++){u=f[i],l=u.getAttribute("data-href");if(l===a||l===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete c[e],d.parentNode.removeChild(d),n(o)},d.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){c[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e);var f=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",f.name="ChunkLoadError",f.type=a,f.request=c,n[1](f)}r[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"08fc":function(e,t,n){},1:function(e,t){},"245a":function(e,t,n){"use strict";n.r(t);n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("1276");var a=n("4360"),c=n("96eb");c.mock("/login","post",(function(e){var t=JSON.parse(e.body),n=t.username,a=t.passwd;return"user"===n&&"h"===a?{code:200}:"user"!==n?{code:502}:"h"!==a?{code:501}:{code:500}})),c.mock("/register","post",(function(e){var t=JSON.parse(e.body),n=t.username;return"user"===n?{code:500}:""!==n?{code:200}:void 0}));for(var r=[],o=0;o<10;o++)r.push({cate:c.Random.cword(2),news_id:c.Random.string("number",9),title:c.Random.ctitle(5,12),content:c.Random.cparagraph(3)+"责任编辑"+c.Random.cname(),ctime:c.Random.date("yyyy-MM-dd"),read_num:c.Random.natural(100,1e3),likes:c.Random.natural(1,100),collections:c.Random.natural(1,100)});c.mock("/recList","get",(function(){return{code:200,data:r}})),c.mock("/hotList","get",(function(){return{code:200,data:r}})),c.mock(RegExp("/newsInfo.*"),"get",(function(e){for(var t,n=e.url.split(/news_id?=/)[1].split(/&user_name=/)[0],c=a["a"].state.recList.length>a["a"].state.hotList.length?a["a"].state.recList:a["a"].state.hotList,r=0;r<c.length;r++)n==c[r].news_id&&(t=c[r]);return{status:200,data:{cate:t.cate,news_id:t.news_id,title:t.title,content:t.content,ctime:t.ctime,read_num:t.read_num,likes:t.likes,collections:t.collections}}})),c.mock("/action","post",(function(){return{status:200}}))},4360:function(e,t,n){"use strict";n("ac1f"),n("1276");var a=n("5502");t["a"]=Object(a["a"])({state:{flag:!1,type:"",user:{username:"",age:"",gender:""},recList:[],hotList:[]},mutations:{clearList:function(e,t){"recList"==t?e.recList=[]:"hotList"==t&&(e.hotList=[])},clearUser:function(e,t){e.type="",e.user={username:"",age:"",gender:""},e.recList=[],e.hotList=[]},numChange:function(e,t){var n=/NewsInfo\//;if("recList"==t.item)for(var a=0;a<e.recList.length;a++)e.recList[a].news_id==t.path.split(n)[1]&&e.recList[a].read_num++;else if("hotList"==t.item)for(var c=0;c<e.hotList.length;c++)e.hotList[c].news_id==t.path.split(n)[1]&&e.hotList[c].read_num++},actionChange:function(e,t){if("likes"==t.type){for(var n=0;n<e.recList.length;n++)e.recList[n].news_id==t.id&&(e.recList[n].likes+=t.num);for(var a=0;a<e.hotList.length;a++)e.hotList[a].news_id==t.id&&(e.hotList[a].likes+=t.num)}else if("collections"==t.type){for(var c=0;c<e.recList.length;c++)e.recList[c].news_id==t.id&&(e.recList[c].collections+=t.num);for(var r=0;r<e.hotList.length;r++)e.hotList[r].news_id==t.id&&(e.hotList[r].collections+=t.num)}}}})},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function c(e,t){var n=Object(a["H"])("router-view");return Object(a["A"])(),Object(a["g"])(n,null,{default:Object(a["Q"])((function(e){var t=e.Component;return[(Object(a["A"])(),Object(a["g"])(a["b"],null,[(Object(a["A"])(),Object(a["g"])(Object(a["J"])(t)))],1024))]})),_:1})}n("b79a");var r=n("6b0d"),o=n.n(r);const i={},s=o()(i,[["render",c]]);var u=s,l=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02"));n("ac1f"),n("466d"),n("4d63"),n("c607"),n("2c3e"),n("25f0");function f(e,t){var n=new Date((new Date).getTime()+24*t*60*60*1e3).toUTCString();for(var a in e)document.cookie=a+"="+e[a]+"; expires="+n}function d(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null}function p(e){var t={};t[e]="",f(t,-1)}var m={setCookie:f,getCookie:d,clearCookie:p},h=n("626a"),b=n("1da1"),g=(n("96cf"),n("ae55")),v=n("5502"),k=function(e){return Object(a["D"])("data-v-5ee833ce"),e=e(),Object(a["B"])(),e},O={class:"login-container"},j={class:"login-nav"},y={class:"login-nav__item active"},w={class:"login-nav__item"},L=k((function(){return Object(a["i"])("label",{for:"login-input-user",class:"login__label"}," 用户名 ",-1)})),_=k((function(){return Object(a["i"])("label",{for:"login-input-password",class:"login__label"}," 密码 ",-1)})),C=Object(a["j"])("记住我"),x=k((function(){return Object(a["i"])("a",{href:"#",class:"login__forgot"},"忘记密码?",-1)})),A={setup:function(e){var t=Object(l["e"])(),n=Object(v["b"])(),c=Object(a["m"])(),r=c.proxy,o=Object(a["E"])({model:{username:"",passwd:""},val:"login",checked:!1});function i(){return s.apply(this,arguments)}function s(){return s=Object(b["a"])(regeneratorRuntime.mark((function e(){var a,c,i,s,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a="/recsys/login",c={username:o.model.username,passwd:g["a"].Decrypt(o.model.passwd)},!n.state.flag){e.next=8;break}return e.next=5,r.axios.post(a,c).then((function(e){return e}));case 5:i=e.sent,e.next=11;break;case 8:return e.next=10,r.axios.post("/login",c).then((function(e){return e}));case 10:i=e.sent;case 11:200===i.data.code&&(s={LoginName:c.username,openId:"asfafsfsfsdfsdfsdfdsf"},o.checked?r.cookie.setCookie(s,7):r.cookie.setCookie(s,1),n.state.type="signIn",n.state.user.username=c.username,Object(h["a"])({message:"登陆成功",icon:"success"}),u=1,l=setInterval((function(){u--,u||(clearInterval(l),h["a"].clear(),t.push({name:"recLists",params:{type:"signIn",username:o.model.username}}))}),1e3)),500===i.data.code&&Object(h["a"])("登陆失败"),501===i.data.code&&Object(h["a"])("密码输入错误"),502===i.data.code&&Object(h["a"])("用户名不存在");case 15:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function u(e){t.push(e)}return function(e,t){var n=Object(a["H"])("van-field"),c=Object(a["H"])("van-checkbox");return Object(a["A"])(),Object(a["h"])("div",O,[Object(a["i"])("ul",j,[Object(a["i"])("li",y,[Object(a["i"])("a",{onClick:t[0]||(t[0]=function(e){return u("/")})},"登录")]),Object(a["i"])("li",w,[Object(a["i"])("a",{onClick:t[1]||(t[1]=function(e){return u("/signUp")})},"注册")])]),L,Object(a["k"])(n,{modelValue:Object(a["M"])(o).model.username,"onUpdate:modelValue":t[2]||(t[2]=function(e){return Object(a["M"])(o).model.username=e}),placeholder:"请输入用户名"},null,8,["modelValue"]),_,Object(a["k"])(n,{modelValue:Object(a["M"])(o).model.passwd,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Object(a["M"])(o).model.passwd=e}),placeholder:"请输入密码",type:"password"},null,8,["modelValue"]),Object(a["k"])(c,{modelValue:Object(a["M"])(o).checked,"onUpdate:modelValue":t[4]||(t[4]=function(e){return Object(a["M"])(o).checked=e}),shape:"square","icon-size":"15px","checked-color":"#26a2ff",class:"login__label--checkbox"},{default:Object(a["Q"])((function(){return[C]})),_:1},8,["modelValue"]),Object(a["i"])("button",{class:"login__submit",onClick:i},"登录"),x])}}};n("5d05");const E=o()(A,[["__scopeId","data-v-5ee833ce"]]);var S=E,I=[{path:"/",alias:"/signIn",component:S,name:"signIn",meta:{keepAlive:!1}},{path:"/signUp",component:function(){return n.e("chunk-2f14566c").then(n.bind(null,"5c9c"))},name:"signUp",meta:{keepAlive:!1}},{path:"/recLists",component:function(){return Promise.all([n.e("chunk-fa597806"),n.e("chunk-1568e651")]).then(n.bind(null,"eb6d"))},name:"recLists",meta:{keepAlive:!0}},{path:"/hotLists",component:function(){return Promise.all([n.e("chunk-fa597806"),n.e("chunk-726b8b7e")]).then(n.bind(null,"1413"))},name:"hotLists",meta:{keepAlive:!0}},{path:"/myself",component:function(){return n.e("chunk-7427c3c6").then(n.bind(null,"1edd"))},name:"myself",meta:{keepAlive:!1}},{path:"/NewsInfo/:id",name:"NewsInfo",component:function(){return n.e("chunk-5c8aeb2f").then(n.bind(null,"0871"))},meta:{keepAlive:!1}}],P=Object(l["a"])({history:Object(l["b"])(),routes:I});P.beforeEach((function(e,t,n){if(m.getCookie("openId"))n();else if("/"==e.path||"/signUp"==e.path)n();else{Object(h["a"])({message:"暂未登录，请先登录"});var a=1,c=setInterval((function(){a--,a||(clearInterval(c),h["a"].clear())}),1e3);n("/")}"/myself"==e.path&&(document.documentElement.scrollTop=0)}));var U=P,R=n("4360"),M=n("bc3a"),N=n.n(M),T=n("130e"),B=n("b970"),D=(n("157a"),n("5cfb"),Object(a["f"])(u));D.use(U),D.use(R["a"]),D.use(T["a"],N.a),N.a.defaults.headers["Content-Type"]="application/x-www-form-urlencoded",N.a.post("http://47.108.56.188:3000/recsys/login?username=11&passwd=111111").then((function(){R["a"].state.flag=!0})).catch((function(e){R["a"].state.flag=!1})),!R["a"].state.flag&&n("245a"),D.config.globalProperties.axios=N.a,D.config.globalProperties.cookie=m,D.use(B["a"]),D.mount("#app")},"5d05":function(e,t,n){"use strict";n("c722")},ae55:function(e,t,n){"use strict";n("d3b7"),n("25f0");var a=n("3452"),c=n.n(a),r=c.a.enc.Utf8.parse("1234123412ABCDEF"),o=c.a.enc.Utf8.parse("ABCDEF1234123412");function i(e){var t=c.a.enc.Hex.parse(e),n=c.a.enc.Base64.stringify(t),a=c.a.AES.decrypt(n,r,{iv:o,mode:c.a.mode.CBC,padding:c.a.pad.Pkcs7}),i=a.toString(c.a.enc.Utf8);return i.toString()}function s(e){var t=c.a.enc.Utf8.parse(e),n=c.a.AES.encrypt(t,r,{iv:o,mode:c.a.mode.CBC,padding:c.a.pad.Pkcs7});return n.ciphertext.toString().toUpperCase()}t["a"]={Decrypt:i,Encrypt:s}},b79a:function(e,t,n){"use strict";n("08fc")},c722:function(e,t,n){}});
//# sourceMappingURL=app.8b0524e1.js.map